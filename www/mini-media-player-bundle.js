function _templateObject36(){const a=_taggedTemplateLiteral(["<span class='media-label'>","</span>"]);return _templateObject36=function(){return a},a}function _templateObject35(){const a=_taggedTemplateLiteral(["<iron-icon .icon=","></iron-icon>"]);return _templateObject35=function(){return a},a}function _templateObject34(){const a=_taggedTemplateLiteral(["\n          <paper-button raised\n            @click='","'>\n            ","\n            ","\n          </paper-button>"]);return _templateObject34=function(){return a},a}function _templateObject33(){const a=_taggedTemplateLiteral(["\n      <div class='media-buttons'>\n        ","\n      </div>"]);return _templateObject33=function(){return a},a}function _templateObject32(){const a=_taggedTemplateLiteral(["<span class='media-label'>","</span>"]);return _templateObject32=function(){return a},a}function _templateObject31(){const a=_taggedTemplateLiteral(["<iron-icon .icon=","></iron-icon>"]);return _templateObject31=function(){return a},a}function _templateObject30(){const a=_taggedTemplateLiteral(["\n            <paper-item value=",">\n              ","\n              ","\n            </paper-item>"]);return _templateObject30=function(){return a},a}function _templateObject29(){const a=_taggedTemplateLiteral(["\n      <paper-menu-button class='media-dropdown'\n        noink no-animations horizontal-align vertical-align .noLabelFloat=","\n        @click='","'>\n        <paper-button class='media-dropdown__button' slot='dropdown-trigger'>\n          <span class='media-dropdown__label'>\n            ","\n          </span>\n          <iron-icon class='media-dropdown__icon' .icon=","></iron-icon>\n        </paper-button>\n        <paper-listbox slot=\"dropdown-content\" class=\"media-dropdown-trigger\"\n          @click='","'>\n          ","\n        </paper-listbox>\n      </paper-menu-button>"]);return _templateObject29=function(){return a},a}function _templateObject28(){const a=_taggedTemplateLiteral(["\n      <div class='tts flex justify'>\n        <paper-input class='tts__input' no-label-float\n          placeholder=","...\n          @click='","'>\n        </paper-input>\n        <div>\n          <paper-button @click='","'>\n            SEND\n          </paper-button>\n        </div>\n      </div>"]);return _templateObject28=function(){return a},a}function _templateObject27(){const a=_taggedTemplateLiteral(["\n      <div class='vol-control--stateless flex'>\n        ","\n        ","\n        ","\n      </div>"]);return _templateObject27=function(){return a},a}function _templateObject26(){const a=_taggedTemplateLiteral(["\n      <div class='vol-control flex'>\n        <div>\n          ","\n        </div>\n        <paper-slider ?disabled=","\n          @change='","'\n          @click='","'\n          min='0' max="," value=","\n          ignore-bar-touch pin>\n        </paper-slider>\n      </div>"]);return _templateObject26=function(){return a},a}function _templateObject25(){const a=_taggedTemplateLiteral(["\n      ","\n      ","\n      ",""]);return _templateObject25=function(){return a},a}function _templateObject24(){const a=_taggedTemplateLiteral(["\n      ","\n      <div class='flex shuffle'>\n        ","\n      </div>\n      <div class='flex'>\n        ","\n      </div>"]);return _templateObject24=function(){return a},a}function _templateObject23(){const a=_taggedTemplateLiteral(["<paper-item value=",">","</paper-item>"]);return _templateObject23=function(){return a},a}function _templateObject22(){const a=_taggedTemplateLiteral(["\n      <paper-menu-button class='source-menu' slot='dropdown-trigger'\n        .horizontalAlign="," .verticalAlign=","\n        .verticalOffset="," .noAnimations=","\n        @click='","'>\n        <paper-button class='source-menu__button' slot='dropdown-trigger'>\n          <span class='source-menu__source' display=",">\n            ","\n          </span>\n          <iron-icon .icon=","></iron-icon>\n        </paper-button>\n        <paper-listbox slot='dropdown-content' selected=","\n          @click='","'>\n          ","\n        </paper-listbox>\n      </paper-menu-button>"]);return _templateObject22=function(){return a},a}function _templateObject21(){const a=_taggedTemplateLiteral(["<span>(master)</span>"]);return _templateObject21=function(){return a},a}function _templateObject20(){const a=_taggedTemplateLiteral(["\n      <paper-checkbox\n        ?checked=","\n        ?disabled=","\n        @click='","'>\n        ","\n        ","\n      </paper-checkbox>"]);return _templateObject20=function(){return a},a}function _templateObject19(){const a=_taggedTemplateLiteral(["Leave"]);return _templateObject19=function(){return a},a}function _templateObject18(){const a=_taggedTemplateLiteral(["Ungroup"]);return _templateObject18=function(){return a},a}function _templateObject17(){const a=_taggedTemplateLiteral(["\n      <div class='speaker-select'>\n        <span>Group speakers</span>\n        ","\n        <div class='buttons'>\n          <paper-button\n            raised\n            ?disabled=","\n            @click='","'>\n            ","\n          </paper-button>\n          <paper-button\n            raised\n            ?disabled=","\n            @click='","'>\n            Group all\n          </paper-button>\n        </div>\n      </div>"]);return _templateObject17=function(){return a},a}function _templateObject16(){const a=_taggedTemplateLiteral(["\n      <paper-icon-button .icon=","\n        ?opaque=","\n        ?color=","\n        @click='","'>\n      </paper-icon-button>"]);return _templateObject16=function(){return a},a}function _templateObject15(){const a=_taggedTemplateLiteral(["\n      ","\n      <div class='power-row flex'>\n        ","\n        ","\n        ","\n        ","\n      </div>"]);return _templateObject15=function(){return a},a}function _templateObject14(){const a=_taggedTemplateLiteral(["\n      <span class='label'>\n        ","\n      </span>"]);return _templateObject14=function(){return a},a}function _templateObject13(){const a=_taggedTemplateLiteral(["\n      <div class='progress' @click=",">\n        <paper-progress class='transiting' value=","\n          max=",">\n        </paper-progress>\n      </div>"]);return _templateObject13=function(){return a},a}function _templateObject12(){const a=_taggedTemplateLiteral(["<span class=",">","</span>"]);return _templateObject12=function(){return a},a}function _templateObject11(){const a=_taggedTemplateLiteral(["<span class=",">","</span>"]);return _templateObject11=function(){return a},a}function _templateObject10(){const a=_taggedTemplateLiteral(["\n          <div>\n            <div class='marquee'>\n              ","\n            </div>\n          </div>"]);return _templateObject10=function(){return a},a}function _templateObject9(){const a=_taggedTemplateLiteral(["\n      <div class='entity__info__media'\n        ?short="," ?scroll=","\n        style='animation-duration: ","s;'>\n        ","\n        ","\n      </div>"]);return _templateObject9=function(){return a},a}function _templateObject8(){const a=_taggedTemplateLiteral(["\n      <div class='entity__info__name'>\n        ","\n        ","\n      </div>"]);return _templateObject8=function(){return a},a}function _templateObject7(){const a=_taggedTemplateLiteral(["\n      <paper-icon-button .icon="," ?color=","\n        @click='","'>\n      </paper-icon-button>"]);return _templateObject7=function(){return a},a}function _templateObject6(){const a=_taggedTemplateLiteral(["\n      <paper-icon-button class='power-button'\n        .icon=","\n        @click='","'\n        ?color=",">\n      </paper-icon-button>"]);return _templateObject6=function(){return a},a}function _templateObject5(){const a=_taggedTemplateLiteral(["\n      <div class='entity__icon'>\n        <ha-icon\n          icon=","\n          ?color=",">\n        </ha-icon>\n      </div>"]);return _templateObject5=function(){return a},a}function _templateObject4(){const a=_taggedTemplateLiteral(["\n        <div class='entity__artwork' ?border=","\n          style='background-image: ",";'\n          state=",">\n        </div>"]);return _templateObject4=function(){return a},a}function _templateObject3(){const a=_taggedTemplateLiteral(["<div class='cover' style='background-image: ",";'></div>"]);return _templateObject3=function(){return a},a}function _templateObject2(){const a=_taggedTemplateLiteral(["\n      <ha-card break="," ?initial=","\n        ?bg="," ?group=","\n        ?more-info="," ?has-title=","\n        artwork="," ?has-artwork="," state=","\n        ?flow="," ?collapse=","\n        content=","\n        @click='","'>\n        <div class='bg'>\n          ","\n        </div>\n        <header>","</header>\n        <div class='player'>\n          <div class='entity flex' ?inactive=",">\n            ","\n            <div class='entity__info'>\n              ","\n              ","\n            </div>\n            <div class='control-row--top flex'>\n              ","\n            </div>\n          </div>\n          <div class='rows'>\n            <div class='control-row flex'>\n              ","\n            </div>\n            ","\n            ","\n            ","\n            ","\n          </div>\n        </div>\n        ","\n      </ha-card>"]);return _templateObject2=function(){return a},a}function _objectSpread(a){for(var b=1;b<arguments.length;b++){var c=null==arguments[b]?{}:arguments[b],d=Object.keys(c);"function"==typeof Object.getOwnPropertySymbols&&(d=d.concat(Object.getOwnPropertySymbols(c).filter(function(a){return Object.getOwnPropertyDescriptor(c,a).enumerable}))),d.forEach(function(b){_defineProperty(a,b,c[b])})}return a}function _defineProperty(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}function _templateObject(){const a=_taggedTemplateLiteral(["\n  ha-card {\n    cursor: default;\n    display: flex;\n    background: transparent;\n    overflow: hidden;\n    padding: 0;\n    position: relative;\n  }\n  ha-card[group] {\n    box-shadow: none;\n  }\n  ha-card[more-info] {\n    cursor: pointer;\n  }\n  ha-card[collapse] {\n    overflow: visible;\n  }\n  ha-card:before {\n    content: '';\n    padding-top: 0px;\n    transition: padding-top .5s cubic-bezier(.21,.61,.35,1);\n    will-change: padding-top;\n  }\n  ha-card[initial] .entity__artwork,\n  ha-card[initial] .entity__icon {\n    animation-duration: .001s;\n  }\n  ha-card[initial]:before,\n  ha-card[initial] .player {\n    transition: none;\n  }\n  header {\n    display: none;\n  }\n  ha-card[has-title] header {\n    display: block;\n    font-size: var(--paper-font-headline_-_font-size);\n    font-weight: var(--paper-font-headline_-_font-weight);\n    letter-spacing: var(--paper-font-headline_-_letter-spacing);\n    line-height: var(--paper-font-headline_-_line-height);\n    padding: 24px 16px 16px;\n    position: relative;\n  }\n  ha-card[artwork='full-cover'][has-artwork]:before {\n    padding-top: 56%;\n  }\n  ha-card[artwork='full-cover'][has-artwork][content='music']:before,\n  ha-card[artwork='full-cover-fit'][has-artwork]:before {\n    padding-top: 100%;\n  }\n  .bg {\n    background: var(--paper-card-background-color, white);\n    position: absolute;\n    top: 0; right: 0; bottom: 0; left: 0;\n  }\n  ha-card[group] .bg {\n    background: transparent;\n  }\n  .cover,\n  .cover:before {\n    display: block;\n    opacity: 0;\n    position: absolute;\n    top: 0; right: 0; bottom: 0; left: 0;\n    transition: opacity .75s cubic-bezier(.21,.61,.35,1);\n    will-change: opacity;\n  }\n  .cover {\n    animation: fade-in .5s cubic-bezier(.21,.61,.35,1);\n    background-size: cover;\n    background-repeat: no-repeat;\n    background-position: center center;\n  }\n  .cover:before {\n    background: rgba(0,0,0,.5);\n    content: '';\n  }\n  ha-card[artwork*='full-cover'][has-artwork] .player {\n    background: rgba(0,0,0,.75);\n    background: linear-gradient(to top, rgba(0,0,0,.75) 0%, rgba(0,0,0,.5) 50%, transparent 100%);\n  }\n  ha-card[has-artwork] .cover,\n  ha-card[has-artwork][artwork='cover'] .cover:before,\n  ha-card[bg] .cover {\n    opacity: .999;\n  }\n  ha-card[artwork='default'] .cover {\n    display: none;\n  }\n  ha-card[bg] .cover {\n    display: block;\n  }\n  ha-card[artwork='full-cover-fit'][has-artwork] .cover {\n    background-color: black;\n    background-size: contain;\n  }\n  .player {\n    align-self: flex-end;\n    box-sizing: border-box;\n    position: relative;\n    padding: 16px;\n    transition: padding .25s ease-out;\n    width: 100%;\n    will-change: padding;\n  }\n  ha-card[group] .player {\n    padding: 2px 0;\n  }\n  ha-card[has-title] .player {\n    padding-top: 0;\n  }\n  ha-card[artwork*='cover'][has-artwork] paper-icon-button,\n  ha-card[artwork*='cover'][has-artwork] ha-icon,\n  ha-card[artwork*='cover'][has-artwork] .entity__info,\n  ha-card[artwork*='cover'][has-artwork] .entity__info__name,\n  ha-card[artwork*='cover'][has-artwork] paper-button,\n  ha-card[artwork*='cover'][has-artwork] header,\n  ha-card[artwork*='cover'][has-artwork] .speaker-select > span,\n  ha-card[artwork*='cover'][has-artwork] paper-menu-button paper-button[focused] iron-icon {\n    color: #FFFFFF;\n    border-color: #FFFFFF;\n  }\n  ha-card[artwork*='cover'][has-artwork] paper-input {\n    --paper-input-container-focus-color: #FFFFFF;\n  }\n  ha-card[artwork*='cover'][has-artwork] paper-checkbox[disabled] {\n    --paper-checkbox-checkmark-color: rgba(0,0,0,.5);\n  }\n  ha-card[artwork*='cover'][has-artwork] paper-checkbox {\n    --paper-checkbox-unchecked-color: #FFFFFF;\n    --paper-checkbox-label-color: #FFFFFF;\n  }\n  ha-card[artwork*='cover'][has-artwork] .media-buttons paper-button,\n  ha-card[artwork*='cover'][has-artwork] .speaker-select paper-button {\n    background-color: rgba(255,255,255,.65);\n    color: black;\n  }\n  ha-card[artwork*='cover'][has-artwork] paper-input {\n    --paper-input-container-color: #FFFFFF;\n    --paper-input-container-input-color: #FFFFFF;\n  }\n  .flex {\n    display: flex;\n    display: -ms-flexbox;\n    display: -webkit-flex;\n    flex-direction: row;\n  }\n  .justify {\n    -webkit-justify-content: space-between;\n    justify-content: space-between;\n  }\n  .hidden {\n    display: none;\n  }\n  .entity {\n    position: relative;\n  }\n  .entity__info {\n    justify-content: center;\n    display: flex;\n    flex-direction: column;\n    margin-left: 8px;\n    position: relative;\n    overflow: hidden;\n    user-select: none;\n  }\n  .rows {\n    margin-left: 56px;\n    position: relative;\n  }\n  .rows > *:nth-child(2) {\n    margin-top: 0px;\n  }\n  .entity__info__media[short] {\n    max-height: 20px;\n    overflow: hidden;\n  }\n  ha-card[content='movie'] .attr__media_season,\n  ha-card[content='movie'] .attr__media_episode {\n    display: none;\n  }\n  .entity__icon {\n    color: var(--paper-item-icon-color, #44739e);\n  }\n  .entity__artwork, .entity__icon {\n    animation: fade-in .25s ease-out;\n    background-position: center center;\n    background-repeat: no-repeat;\n    background-size: cover;\n    border-radius: 100%;\n    height: 40px;\n    line-height: 40px;\n    margin-right: 8px;\n    min-width: 40px;\n    position: relative;\n    text-align: center;\n    width: 40px;\n    will-change: border-color;\n    transition: border-color .25s ease-out;\n  }\n  .entity__artwork[border] {\n    border: 2px solid var(--primary-text-color);\n    box-sizing: border-box;\n    -moz-box-sizing: border-box;\n    -webkit-box-sizing: border-box;\n  }\n  .entity__artwork[state='playing'] {\n    border-color: var(--accent-color);\n  }\n  .entity__info__name,\n  .entity__info__media[short],\n  .source-menu__source,\n  .media-dropdown__label,\n  .media-label,\n  .label {\n    overflow: hidden;\n    text-overflow: ellipsis;\n    white-space: nowrap;\n  }\n  .entity__info__name {\n    line-height: 20px;\n  }\n  .control-row--top {\n    line-height: 40px;\n  }\n  .entity[inactive] .entity__info__media,\n  .entity__info__name,\n  paper-icon-button,\n  paper-button {\n    color: var(--primary-text-color);\n    position: relative;\n  }\n  .entity__info__media {\n    color: var(--secondary-text-color);\n    max-height: 6em;\n    word-break: break-word;\n  }\n  .attr__app_name {\n    display: none;\n  }\n  .attr__app_name:first-child {\n    display: inline;\n  }\n  .entity[inactive] .entity__info__media {\n    opacity: .5;\n  }\n  .entity[inactive] .entity__info__media {\n    max-width: 200px;\n  }\n  .entity__info__media[scroll] > span {\n    visibility: hidden;\n  }\n  .entity__info__media[scroll] > div {\n    animation: move linear infinite;\n  }\n  .entity__info__media[scroll] .marquee {\n    animation: slide linear infinite;\n  }\n  .entity__info__media[scroll] .marquee,\n  .entity__info__media[scroll] > div {\n    animation-duration: inherit;\n    visibility: visible;\n  }\n  .entity__info__media[scroll] {\n    animation-duration: 10s;\n    text-overflow: clip !important;\n    mask-image: linear-gradient(to right, transparent 0%, black 5%, black 95%, transparent 100%);\n    -webkit-mask-image: linear-gradient(to right, transparent 0%, black 5%, black 95%, transparent 100%);\n  }\n  .marquee {\n    visibility: hidden;\n    position: absolute;\n    white-space: nowrap;\n  }\n  ha-card[artwork*='cover'][has-artwork] .entity__info__media,\n  paper-icon-button[color],\n  ha-icon[color] {\n    color: var(--accent-color) !important;\n  }\n  paper-icon-button {\n    transition: color .25s ease-in-out;\n    will-change: color;\n  }\n  .entity__info__media span:before {\n    content: ' - ';\n  }\n  .entity__info__media span:first-of-type:before {\n    content: '';\n  }\n  .entity__info__media span:empty,\n  .source-menu span:empty {\n    display: none;\n  }\n  .tts {\n    align-items: center;\n    margin-top: 8px;\n  }\n  .tts__input {\n    cursor: text;\n    flex: 1;\n    margin-right: 8px;\n    --paper-input-container-input: {\n      font-size: 1em;\n    };\n  }\n  .tts paper-button {\n    margin: 0;\n    padding: .4em;\n  }\n  .media-dropdown {\n    box-sizing: border-box;\n    padding: 0;\n    width: 100%;\n    margin-top: 8px;\n  }\n  .media-dropdown__button {\n    border-bottom: 1px solid var(--primary-text-color);\n    border-radius: 0;\n    display: flex;\n    font-size: 1em;\n    justify-content: space-between;\n    margin: 0;\n    opacity: .75;\n    padding: 0 8px 0 0;\n    width: 100%;\n  }\n  .media-dropdown__label {\n    padding: .2em .2em .2em 0;\n    text-align: left;\n    text-transform: none;\n  }\n  .media-dropdown__icon {\n    height: 24px;\n    width: 24px;\n  }\n  .media-buttons {\n    box-sizing: border-box;\n    display: flex;\n    flex-wrap: wrap;\n    margin-top: 8px;\n    padding-top: 8px;\n  }\n  .media-buttons > paper-button {\n    background-color: rgba(255,255,255,.1);\n    border-radius: 0;\n    box-sizing: border-box;\n    margin: 8px 0 0 0;\n    min-width: 0;\n    padding: .2em 1em;\n    width: calc(50% - 4px);\n  }\n  .media-buttons > paper-button > span {\n    line-height: 24px;\n  }\n  .media-buttons > paper-button > *:nth-child(2),\n  .media-dropdown paper-item > *:nth-child(2) {\n    margin-left: 4px;\n  }\n  .media-buttons > paper-button:nth-child(odd) {\n    margin-right: 8px;\n  }\n  .media-buttons > paper-button:nth-child(-n+2) {\n    margin-top: 0;\n  }\n  .media-buttons > paper-button:nth-last-child(1):nth-child(odd) {\n    margin: 8px 0 0 0;\n    width: 100%;\n  }\n  .control-row--top .vol-control {\n    max-width: 200px;\n  }\n  .control-row--top {\n    flex: 1;\n    justify-content: flex-end;\n    margin-right: 0;\n    margin-left: auto;\n    width: auto;\n    max-width: 100%;\n  }\n  .control-row--top paper-slider {\n    flex: 1;\n    height: 40px;\n    line-height: initial;\n  }\n  .control-row {\n    flex-wrap: wrap;\n    justify-content: center;\n  }\n  .control-row > .flex {\n    flex: 1;\n    justify-content: space-between;\n  }\n  .control-row > .shuffle {\n    flex: 3;\n    flex-shrink: 200;\n    justify-content: center;\n  }\n  .control-row > .vol-control {\n    flex: 100;\n  }\n  .vol-control {\n    flex: 1;\n    max-height: 40px;\n  }\n  .speaker-select {\n    display: flex;\n    flex-direction: column;\n  }\n  .speaker-select > span {\n    font-weight: 500;\n    margin-top: 12px;\n    text-transform: uppercase;\n  }\n  .speaker-select paper-checkbox {\n    padding: 8px 0;\n  }\n  .speaker-select .buttons {\n    display: flex;\n  }\n  .speaker-select paper-button {\n    background-color: rgba(255,255,255,.1);\n    margin: 8px 8px 0 0;\n    min-width: 0;\n    padding: .5em 1em;\n    text-transform: uppercase;\n    text-align: center;\n    width: 50%;\n  }\n  .speaker-select paper-button:nth-child(even) {\n    margin: 8px 0 0 8px;\n  }\n  .speaker-select > paper-checkbox > span {\n    font-weight: 600;\n  }\n  paper-slider {\n    max-width: 400px;\n    min-width: 100px;\n    width: 100%;\n  }\n  paper-input {\n    opacity: .75;\n    --paper-input-container-color: var(--primary-text-color);\n    --paper-input-container-focus-color: var(--primary-text-color);\n    --paper-input-container: {\n      padding: 0;\n    };\n  }\n  .source-menu {\n    height: 40px;\n    line-height: 20px;\n    padding: 0;\n  }\n  paper-menu-button[focused] paper-button > iron-icon {\n    color: var(--accent-color);\n    transform: rotate(180deg);\n  }\n  paper-menu-button paper-button[focused] iron-icon {\n    color: var(--primary-text-color);\n    transform: rotate(0deg);\n  }\n  .source-menu__button {\n    height: 40px;\n    line-height: 20px;\n    margin: 0;\n    min-width: 0;\n    text-transform: initial;\n  }\n  .source-menu__source {\n    display: block;\n    max-width: 60px;\n    position: relative;\n    width: auto;\n  }\n  .source-menu__source[display=\"icon\"] {\n    display: none;\n  }\n  .source-menu__source[display=\"full\"] {\n    max-width: none;\n  }\n  .progress {\n    height: 12px;\n    cursor: pointer;\n    left: 0; right: 0; bottom: 0;\n    position: absolute;\n  }\n  ha-card[group][collapse] .progress {\n    bottom: -2px;\n    height: 5px;\n  }\n  ha-card[group] paper-progress {\n    height: var(--paper-progress-height, 2px);\n  }\n  paper-progress {\n    height: var(--paper-progress-height, 4px);\n    bottom: 0;\n    position: absolute;\n    width: 100%;\n    --paper-progress-active-color: var(--accent-color);\n    --paper-progress-container-color: rgba(100,100,100,.15);\n    --paper-progress-transition-duration: 1s;\n    --paper-progress-transition-timing-function: linear;\n    --paper-progress-transition-delay: 0s;\n  }\n  ha-card[state='paused'] paper-progress {\n    --paper-progress-active-color: var(--disabled-text-color, rgba(150,150,150,.5));\n  }\n  .label {\n    margin: 0 8px;\n  }\n  .media-dropdown[focused] paper-button,\n  paper-icon-button[color][opaque],\n  paper-input[focused] {\n    opacity: 1;\n  }\n  .media-dropdown[focused] paper-button[focused] {\n    opacity: .75;\n  }\n  paper-icon-button[opaque],\n  .speaker-select paper-button[disabled] {\n    opacity: .5;\n  }\n  ha-card[flow] .control-row--top {\n    justify-content: space-between;\n  }\n  ha-card[flow] .power-row {\n    margin-left: auto;\n  }\n  ha-card[flow] .entity__info {\n    display: none;\n  }\n  ha-card[flow] paper-slider,\n  ha-card[flow] .vol-control {\n    width: 100%;\n    max-width: none;\n  }\n  ha-card[break*=\"break\"] .rows {\n    margin-left: 0;\n  }\n  ha-card[break*=\"break\"] .rows > * {\n    padding-left: 8px;\n    padding-right: 8px;\n  }\n  ha-card[break*=\"break\"] .rows > .control-row {\n    padding: 0;\n  }\n  ha-card[break*=\"break\"] .media-dropdown__button {\n    padding-right: 0;\n  }\n  .player div:empty,\n  ha-card[break=\"break-width\"] .source-menu__source,\n  .entity[inactive] .source-menu__source {\n    display: none;\n  }\n  @keyframes slide {\n    100% { transform: translateX(-100%); }\n  }\n  @keyframes move {\n    from { transform: translateX(100%); }\n    to { transform: translateX(0); }\n  }\n  @keyframes fade-in {\n    from { opacity: 0; }\n    to { opacity: 1; }\n  }"]);return _templateObject=function(){return a},a}function _taggedTemplateLiteral(a,b){return b||(b=a.slice(0)),Object.freeze(Object.defineProperties(a,{raw:{value:Object.freeze(b)}}))}!function(a,b){"object"==typeof exports&&"undefined"!=typeof module?b():"function"==typeof define&&define.amd?define(b):b()}(0,function(){"use strict";function H(b){let c=P.get(b.type);void 0===c&&(c={stringsArray:new WeakMap,keyString:new Map},P.set(b.type,c));let d=c.stringsArray.get(b.strings);if(void 0!==d)return d;const f=b.strings.join(fa);return void 0===(d=c.keyString.get(f))&&(d=new a(b,b.getTemplateElement()),c.keyString.set(f,d)),c.stringsArray.set(b.strings,d),d}function E(b,d){const e=b.element.content,f=b.parts,g=document.createTreeWalker(e,133,null,!1);let i=A(f),j=f[i],k=-1,m=0;const n=[];for(let a=null;g.nextNode();){k++;const b=g.currentNode;for(b.previousSibling===a&&(a=null),d.has(b)&&(n.push(b),null===a&&(a=b)),null!==a&&m++;void 0!==j&&j.index===k;)j.index=null===a?j.index-m:-1,j=f[i=A(f,i)]}n.forEach(a=>a.parentNode.removeChild(a))}function J(a){return parseFloat(a)||0}function T(a){for(var b=[],c=1;c<arguments.length;c++)b[c-1]=arguments[c];return b.reduce(function(b,c){return b+J(a["border-"+c+"-width"])},0)}function X(b){var d=Math.abs,f=Math.round,g=b.clientWidth,e=b.clientHeight;if(!g&&!e)return oa;var i=na(b).getComputedStyle(b),j=function(a){for(var b={},c=0,d=["top","right","bottom","left"];c<d.length;c++){var e=d[c],f=a["padding-"+e];b[e]=J(f)}return b}(i),k=j.left+j.right,m=j.top+j.bottom,n=J(i.width),o=J(i.height);if("border-box"===i.boxSizing&&(f(n+k)!==g&&(n-=T(i,"left","right")+k),f(o+m)!==e&&(o-=T(i,"top","bottom")+m)),!function(a){return a===na(a).document.documentElement}(b)){var p=f(n+k)-g,h=f(o+m)-e;1!==d(p)&&(n-=p),1!==d(h)&&(o-=h)}return aa(j.left,j.top,n,o)}function Y(a){return _?pa(a)?function(a){var b=a.getBBox();return aa(0,0,b.width,b.height)}(a):X(a):oa}function aa(a,b,c,d){return{x:a,y:b,width:c,height:d}}const ba=new WeakMap,ca=a=>"function"==typeof a&&ba.has(a),da=void 0!==window.customElements&&void 0!==window.customElements.polyfillWrapFlushCallback,ea=function(a,b){let c=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null,d=b;for(;d!==c;){const b=d.nextSibling;a.removeChild(d),d=b}},e={},i={},fa="{{lit-".concat((Math.random()+"").slice(2),"}}"),o="<!--".concat(fa,"-->"),ga=new RegExp("".concat(fa,"|").concat(o)),c="$lit$";class a{constructor(b,a){this.parts=[],this.element=a;let f=-1,g=0;const h=[],j=i=>{const e=i.content,a=document.createTreeWalker(e,133,null,!1);for(let k=0;a.nextNode();){f++;const i=a.currentNode;if(1===i.nodeType){if(i.hasAttributes()){const a=i.attributes;let e=0;for(let b=0;b<a.length;b++)0<=a[b].value.indexOf(fa)&&e++;for(;0<e--;){const e=b.strings[g],h=d.exec(e)[2],j=h.toLowerCase()+c,k=i.getAttribute(j).split(ga);this.parts.push({type:"attribute",index:f,name:h,strings:k}),i.removeAttribute(j),g+=k.length-1}}"TEMPLATE"===i.tagName&&j(i)}else if(3===i.nodeType){const b=i.data;if(0<=b.indexOf(fa)){const c=i.parentNode,d=b.split(ga),e=d.length-1;for(let a=0;a<e;a++)c.insertBefore(""===d[a]?l():document.createTextNode(d[a]),i),this.parts.push({type:"node",index:++f});""===d[e]?(c.insertBefore(l(),i),h.push(i)):i.data=d[e],g+=e}}else if(8===i.nodeType)if(i.data===fa){const a=i.parentNode;null!==i.previousSibling&&f!==k||(f++,a.insertBefore(l(),i)),k=f,this.parts.push({type:"node",index:f}),null===i.nextSibling?i.data="":(h.push(i),f--),g++}else for(let a=-1;-1!==(a=i.data.indexOf(fa,a+1));)this.parts.push({type:"node",index:-1})}};j(a);for(const c of h)c.parentNode.removeChild(c)}}const h=a=>-1!==a.index,l=()=>document.createComment(""),d=/([ \x09\x0a\x0c\x0d])([^\0-\x1F\x7F-\x9F \x09\x0a\x0c\x0d"'>=\/]+)([ \x09\x0a\x0c\x0d]*=[ \x09\x0a\x0c\x0d]*(?:[^ \x09\x0a\x0c\x0d"'`<>=]*|"[^"]*|'[^']*))$/;class p{constructor(a,b,c){this._parts=[],this.template=a,this.processor=b,this.options=c}update(a){let b=0;for(const c of this._parts)void 0!==c&&c.setValue(a[b]),b++;for(const b of this._parts)void 0!==b&&b.commit()}_clone(){const a=da?this.template.element.content.cloneNode(!0):document.importNode(this.template.element.content,!0),b=this.template.parts;let c=0,d=0;const e=a=>{const f=document.createTreeWalker(a,133,null,!1);for(let g=f.nextNode();c<b.length&&null!==g;){const a=b[c];if(!h(a))this._parts.push(void 0),c++;else if(d===a.index){if("node"===a.type){const a=this.processor.handleTextExpression(this.options);a.insertAfterNode(g.previousSibling),this._parts.push(a)}else this._parts.push(...this.processor.handleAttributeExpressions(g,a.name,a.strings,this.options));c++}else d++,"TEMPLATE"===g.nodeName&&e(g.content),g=f.nextNode()}};return e(a),da&&(document.adoptNode(a),customElements.upgrade(a)),a}}class n{constructor(a,b,c,d){this.strings=a,this.values=b,this.type=c,this.processor=d}getHTML(){const a=this.strings.length-1;let b="";for(let e=0;e<a;e++){const a=this.strings[e],f=d.exec(a);b+=f?a.substr(0,f.index)+f[1]+f[2]+c+f[3]+fa:a+o}return b+this.strings[a]}getTemplateElement(){const a=document.createElement("template");return a.innerHTML=this.getHTML(),a}}const f=a=>null===a||"object"!=typeof a&&"function"!=typeof a;class m{constructor(a,b,c){this.dirty=!0,this.element=a,this.name=b,this.strings=c,this.parts=[];for(let d=0;d<c.length-1;d++)this.parts[d]=this._createPart()}_createPart(){return new g(this)}_getValue(){const a=this.strings,b=a.length-1;let c="";for(let d=0;d<b;d++){c+=a[d];const b=this.parts[d];if(void 0!==b){const a=b.value;if(null!=a&&(Array.isArray(a)||"string"!=typeof a&&a[Symbol.iterator]))for(const b of a)c+="string"==typeof b?b:b+"";else c+="string"==typeof a?a:a+""}}return c+=a[b]}commit(){this.dirty&&(this.dirty=!1,this.element.setAttribute(this.name,this._getValue()))}}class g{constructor(a){this.value=void 0,this.committer=a}setValue(a){a===e||f(a)&&a===this.value||(this.value=a,ca(a)||(this.committer.dirty=!0))}commit(){for(;ca(this.value);){const a=this.value;this.value=e,a(this)}this.value!==e&&this.committer.commit()}}class s{constructor(a){this.value=void 0,this._pendingValue=void 0,this.options=a}appendInto(a){this.startNode=a.appendChild(l()),this.endNode=a.appendChild(l())}insertAfterNode(a){this.startNode=a,this.endNode=a.nextSibling}appendIntoPart(a){a._insert(this.startNode=l()),a._insert(this.endNode=l())}insertAfterPart(a){a._insert(this.startNode=l()),this.endNode=a.endNode,a.endNode=this.startNode}setValue(a){this._pendingValue=a}commit(){for(;ca(this._pendingValue);){const a=this._pendingValue;this._pendingValue=e,a(this)}const a=this._pendingValue;a!==e&&(f(a)?a!==this.value&&this._commitText(a):a instanceof n?this._commitTemplateResult(a):a instanceof Node?this._commitNode(a):Array.isArray(a)||a[Symbol.iterator]?this._commitIterable(a):a===i?(this.value=i,this.clear()):this._commitText(a))}_insert(a){this.endNode.parentNode.insertBefore(a,this.endNode)}_commitNode(a){this.value!==a&&(this.clear(),this._insert(a),this.value=a)}_commitText(a){const b=this.startNode.nextSibling;a=null==a?"":a,b===this.endNode.previousSibling&&3===b.nodeType?b.data=a:this._commitNode(document.createTextNode("string"==typeof a?a:a+"")),this.value=a}_commitTemplateResult(a){const b=this.options.templateFactory(a);if(this.value instanceof p&&this.value.template===b)this.value.update(a.values);else{const c=new p(b,a.processor,this.options),d=c._clone();c.update(a.values),this._commitNode(d),this.value=c}}_commitIterable(a){Array.isArray(this.value)||(this.value=[],this.clear());const b=this.value;let c,d=0;for(const e of a)void 0===(c=b[d])&&(c=new s(this.options),b.push(c),0==d?c.appendIntoPart(this):c.insertAfterPart(b[d-1])),c.setValue(e),c.commit(),d++;d<b.length&&(b.length=d,this.clear(c&&c.endNode))}clear(){let a=0<arguments.length&&arguments[0]!==void 0?arguments[0]:this.startNode;ea(this.startNode.parentNode,a.nextSibling,this.endNode)}}class b{constructor(a,b,c){if(this.value=void 0,this._pendingValue=void 0,2!==c.length||""!==c[0]||""!==c[1])throw new Error("Boolean attributes can only contain a single expression");this.element=a,this.name=b,this.strings=c}setValue(a){this._pendingValue=a}commit(){for(;ca(this._pendingValue);){const a=this._pendingValue;this._pendingValue=e,a(this)}if(this._pendingValue!==e){const a=!!this._pendingValue;this.value!==a&&(a?this.element.setAttribute(this.name,""):this.element.removeAttribute(this.name)),this.value=a,this._pendingValue=e}}}class u extends m{constructor(a,b,c){super(a,b,c),this.single=2===c.length&&""===c[0]&&""===c[1]}_createPart(){return new r(this)}_getValue(){return this.single?this.parts[0].value:super._getValue()}commit(){this.dirty&&(this.dirty=!1,this.element[this.name]=this._getValue())}}class r extends g{}let v=!1;try{const a={get capture(){return v=!0,!1}};window.addEventListener("test",a,a),window.removeEventListener("test",a,a)}catch(a){}class w{constructor(a,b,c){this.value=void 0,this._pendingValue=void 0,this.element=a,this.eventName=b,this.eventContext=c,this._boundHandleEvent=a=>this.handleEvent(a)}setValue(a){this._pendingValue=a}commit(){for(;ca(this._pendingValue);){const a=this._pendingValue;this._pendingValue=e,a(this)}if(this._pendingValue!==e){const a=this._pendingValue,b=this.value,c=null==a||null!=b&&(a.capture!==b.capture||a.once!==b.once||a.passive!==b.passive);c&&this.element.removeEventListener(this.eventName,this._boundHandleEvent,this._options),null!=a&&(null==b||c)&&(this._options=x(a),this.element.addEventListener(this.eventName,this._boundHandleEvent,this._options)),this.value=a,this._pendingValue=e}}handleEvent(a){"function"==typeof this.value?this.value.call(this.eventContext||this.element,a):this.value.handleEvent(a)}}const x=a=>a&&(v?{capture:a.capture,passive:a.passive,once:a.once}:a.capture),y=new class{handleAttributeExpressions(a,c,d,e){const f=c[0];return"."===f?new u(a,c.slice(1),d).parts:"@"===f?[new w(a,c.slice(1),e.eventContext)]:"?"===f?[new b(a,c.slice(1),d)]:new m(a,c,d).parts}handleTextExpression(a){return new s(a)}},P=new Map,C=new WeakMap;(window.litHtmlVersions||(window.litHtmlVersions=[])).push("1.0.0");const O=function(a){for(var b=arguments.length,c=Array(1<b?b-1:0),d=1;d<b;d++)c[d-1]=arguments[d];return new n(a,c,"html",y)},N=133,t=a=>{let b=11===a.nodeType?0:1;for(const c=document.createTreeWalker(a,N,null,!1);c.nextNode();)b++;return b},A=function(a){let b=1<arguments.length&&arguments[1]!==void 0?arguments[1]:-1;for(let c=b+1;c<a.length;c++){const b=a[c];if(h(b))return c}return-1},F=(a,b)=>"".concat(a,"--").concat(b);let z=!0;void 0===window.ShadyCSS?z=!1:void 0===window.ShadyCSS.prepareTemplateDom&&(console.warn("Incompatible ShadyCSS version detected.Please update to at least @webcomponents/webcomponentsjs@2.0.2 and@webcomponents/shadycss@1.3.1."),z=!1);const S=b=>c=>{const d=F(c.type,b);let e=P.get(d);void 0===e&&(e={stringsArray:new WeakMap,keyString:new Map},P.set(d,e));let f=e.stringsArray.get(c.strings);if(void 0!==f)return f;const g=c.strings.join(fa);if(void 0===(f=e.keyString.get(g))){const d=c.getTemplateElement();z&&window.ShadyCSS.prepareTemplateDom(d,b),f=new a(c,d),e.keyString.set(g,f)}return e.stringsArray.set(c.strings,f),f},B=["html","svg"],R=new Set,L=(a,b,c)=>{R.add(c);const d=a.querySelectorAll("style");if(0===d.length)return void window.ShadyCSS.prepareTemplateStyles(b.element,c);const f=document.createElement("style");for(let g=0;g<d.length;g++){const a=d[g];a.parentNode.removeChild(a),f.textContent+=a.textContent}if((a=>{B.forEach(b=>{const c=P.get(F(b,a));void 0!==c&&c.keyString.forEach(a=>{const b=a.element.content,c=new Set;Array.from(b.querySelectorAll("style")).forEach(a=>{c.add(a)}),E(a,c)})})})(c),function(a,b){let d=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;const c=a.element.content,e=a.parts;if(null==d)return void c.appendChild(b);const f=document.createTreeWalker(c,N,null,!1);for(let g=A(e),h=0,i=-1;f.nextNode();)for(i++,f.currentNode===d&&(h=t(b),d.parentNode.insertBefore(b,d));-1!==g&&e[g].index===i;){if(0<h){for(;-1!==g;)e[g].index+=h,g=A(e,g);return}g=A(e,g)}}(b,f,b.element.content.firstChild),window.ShadyCSS.prepareTemplateStyles(b.element,c),window.ShadyCSS.nativeShadow){const c=b.element.content.querySelector("style");a.insertBefore(c.cloneNode(!0),a.firstChild)}else{b.element.content.insertBefore(f,b.element.content.firstChild);const a=new Set;a.add(f),E(b,a)}};window.JSCompiler_renameProperty=a=>a;const U={toAttribute(a,b){return b===Boolean?a?"":null:b===Object||b===Array?null==a?a:JSON.stringify(a):a},fromAttribute(a,b){return b===Boolean?null!==a:b===Number?null===a?null:+a:b===Object||b===Array?JSON.parse(a):a}},j=(a,b)=>b!==a&&(b==b||a==a),q={attribute:!0,type:String,converter:U,reflect:!1,hasChanged:j},V=Promise.resolve(!0),G=1;class D extends HTMLElement{constructor(){super(),this._updateState=0,this._instanceProperties=void 0,this._updatePromise=V,this._hasConnectedResolver=void 0,this._changedProperties=new Map,this._reflectingProperties=void 0,this.initialize()}static get observedAttributes(){this.finalize();const a=[];return this._classProperties.forEach((b,c)=>{const d=this._attributeNameForProperty(c,b);void 0!==d&&(this._attributeToPropertyMap.set(d,c),a.push(d))}),a}static _ensureClassProperties(){if(!this.hasOwnProperty(JSCompiler_renameProperty("_classProperties",this))){this._classProperties=new Map;const a=Object.getPrototypeOf(this)._classProperties;void 0!==a&&a.forEach((a,b)=>this._classProperties.set(b,a))}}static createProperty(a){let b=1<arguments.length&&arguments[1]!==void 0?arguments[1]:q;if(this._ensureClassProperties(),this._classProperties.set(a,b),b.noAccessor||this.prototype.hasOwnProperty(a))return;const c="symbol"==typeof a?Symbol():"__".concat(a);Object.defineProperty(this.prototype,a,{get(){return this[c]},set(b){const d=this[a];this[c]=b,this.requestUpdate(a,d)},configurable:!0,enumerable:!0})}static finalize(){if(!(this.hasOwnProperty(JSCompiler_renameProperty("finalized",this))&&this.finalized)){const a=Object.getPrototypeOf(this);if("function"==typeof a.finalize&&a.finalize(),this.finalized=!0,this._ensureClassProperties(),this._attributeToPropertyMap=new Map,this.hasOwnProperty(JSCompiler_renameProperty("properties",this))){const a=this.properties,b=[...Object.getOwnPropertyNames(a),...("function"==typeof Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(a):[])];for(const c of b)this.createProperty(c,a[c])}}}static _attributeNameForProperty(a,b){const c=b.attribute;return!1===c?void 0:"string"==typeof c?c:"string"==typeof a?a.toLowerCase():void 0}static _valueHasChanged(a,b){let c=2<arguments.length&&arguments[2]!==void 0?arguments[2]:j;return c(a,b)}static _propertyValueFromAttribute(a,b){const c=b.type,d=b.converter||U,e="function"==typeof d?d:d.fromAttribute;return e?e(a,c):a}static _propertyValueToAttribute(a,b){if(void 0!==b.reflect){const c=b.type,d=b.converter;return(d&&d.toAttribute||U.toAttribute)(a,c)}}initialize(){this._saveInstanceProperties()}_saveInstanceProperties(){this.constructor._classProperties.forEach((a,b)=>{if(this.hasOwnProperty(b)){const a=this[b];delete this[b],this._instanceProperties||(this._instanceProperties=new Map),this._instanceProperties.set(b,a)}})}_applyInstanceProperties(){this._instanceProperties.forEach((a,b)=>this[b]=a),this._instanceProperties=void 0}connectedCallback(){this._updateState|=32,this._hasConnectedResolver?(this._hasConnectedResolver(),this._hasConnectedResolver=void 0):this.requestUpdate()}disconnectedCallback(){}attributeChangedCallback(a,b,c){b!==c&&this._attributeToProperty(a,c)}_propertyToAttribute(a,b){let c=2<arguments.length&&arguments[2]!==void 0?arguments[2]:q;const d=this.constructor,e=d._attributeNameForProperty(a,c);if(void 0!==e){const a=d._propertyValueToAttribute(b,c);if(void 0===a)return;this._updateState|=8,null==a?this.removeAttribute(e):this.setAttribute(e,a),this._updateState&=-9}}_attributeToProperty(a,b){if(!(this._updateState&8)){const c=this.constructor,d=c._attributeToPropertyMap.get(a);if(void 0!==d){const a=c._classProperties.get(d)||q;this._updateState|=16,this[d]=c._propertyValueFromAttribute(b,a),this._updateState&=-17}}}requestUpdate(a,b){let c=!0;if(void 0!==a&&!this._changedProperties.has(a)){const d=this.constructor,e=d._classProperties.get(a)||q;d._valueHasChanged(this[a],b,e.hasChanged)?(this._changedProperties.set(a,b),!0!==e.reflect||this._updateState&16||(void 0===this._reflectingProperties&&(this._reflectingProperties=new Map),this._reflectingProperties.set(a,e))):c=!1}return!this._hasRequestedUpdate&&c&&this._enqueueUpdate(),this.updateComplete}async _enqueueUpdate(){let a;this._updateState|=4;const b=this._updatePromise;this._updatePromise=new Promise(b=>a=b),await b,this._hasConnected||(await new Promise(a=>this._hasConnectedResolver=a));const c=this.performUpdate();null!=c&&"function"==typeof c.then&&(await c),a(!this._hasRequestedUpdate)}get _hasConnected(){return this._updateState&32}get _hasRequestedUpdate(){return this._updateState&4}get hasUpdated(){return this._updateState&G}performUpdate(){if(this._instanceProperties&&this._applyInstanceProperties(),this.shouldUpdate(this._changedProperties)){const a=this._changedProperties;this.update(a),this._markUpdated(),this._updateState&G||(this._updateState|=1,this.firstUpdated(a)),this.updated(a)}else this._markUpdated()}_markUpdated(){this._changedProperties=new Map,this._updateState&=-5}get updateComplete(){return this._updatePromise}shouldUpdate(){return!0}update(){void 0!==this._reflectingProperties&&0<this._reflectingProperties.size&&(this._reflectingProperties.forEach((a,b)=>this._propertyToAttribute(b,this[b],a)),this._reflectingProperties=void 0)}updated(){}firstUpdated(){}}D.finalized=!0;const Q="adoptedStyleSheets"in Document.prototype&&"replace"in CSSStyleSheet.prototype,I=Symbol();class K{constructor(a,b){if(b!==I)throw new Error("CSSResult is not constructable. Use `unsafeCSS` or `css` instead.");this.cssText=a}get styleSheet(){return void 0===this._styleSheet&&(Q?(this._styleSheet=new CSSStyleSheet,this._styleSheet.replaceSync(this.cssText)):this._styleSheet=null),this._styleSheet}toString(){return this.cssText}}(window.litElementVersions||(window.litElementVersions=[])).push("2.0.1");const W=a=>a.flat?a.flat(1/0):function a(b){let c=1<arguments.length&&arguments[1]!==void 0?arguments[1]:[];for(let d=0,e=b.length;d<e;d++){const e=b[d];Array.isArray(e)?a(e,c):c.push(e)}return c}(a);class Z extends D{static finalize(){super.finalize(),this._styles=this.hasOwnProperty(JSCompiler_renameProperty("styles",this))?this._getUniqueStyles():this._styles||[]}static _getUniqueStyles(){const a=this.styles,b=[];return Array.isArray(a)?W(a).reduceRight((a,b)=>(a.add(b),a),new Set).forEach(a=>b.unshift(a)):a&&b.push(a),b}initialize(){super.initialize(),this.renderRoot=this.createRenderRoot(),window.ShadowRoot&&this.renderRoot instanceof window.ShadowRoot&&this.adoptStyles()}createRenderRoot(){return this.attachShadow({mode:"open"})}adoptStyles(){const a=this.constructor._styles;0!==a.length&&(void 0===window.ShadyCSS||window.ShadyCSS.nativeShadow?Q?this.renderRoot.adoptedStyleSheets=a.map(a=>a.styleSheet):this._needsShimAdoptedStyleSheets=!0:window.ShadyCSS.ScopingShim.prepareAdoptedCssText(a.map(a=>a.cssText),this.localName))}connectedCallback(){super.connectedCallback(),this.hasUpdated&&void 0!==window.ShadyCSS&&window.ShadyCSS.styleElement(this)}update(a){super.update(a);const b=this.render();b instanceof n&&this.constructor.render(b,this.renderRoot,{scopeName:this.localName,eventContext:this}),this._needsShimAdoptedStyleSheets&&(this._needsShimAdoptedStyleSheets=!1,this.constructor._styles.forEach(a=>{const b=document.createElement("style");b.textContent=a.cssText,this.renderRoot.appendChild(b)}))}render(){}}Z.finalized=!0,Z.render=(b,d,e)=>{const f=e.scopeName,g=C.has(d),h=d instanceof ShadowRoot&&z&&b instanceof n,i=h&&!R.has(f),a=i?document.createDocumentFragment():d;if(((a,b,c)=>{let d=C.get(b);void 0===d&&(ea(b,b.firstChild),C.set(b,d=new s(Object.assign({templateFactory:H},c))),d.appendInto(b)),d.setValue(a),d.commit()})(b,a,Object.assign({templateFactory:S(f)},e)),i){const b=C.get(a);C.delete(a),b.value instanceof p&&L(a,b.value.template,f),ea(d,d.firstChild),d.appendChild(a),C.set(d,b)}!g&&h&&window.ShadyCSS.styleElement(d.host)};var $=function(){function a(a,b){var c=-1;return a.some(function(a,d){return a[0]===b&&(c=d,!0)}),c}return"undefined"==typeof Map?function(){function b(){this.__entries__=[]}return Object.defineProperty(b.prototype,"size",{get:function a(){return this.__entries__.length},enumerable:!0,configurable:!0}),b.prototype.get=function(b){var c=a(this.__entries__,b),d=this.__entries__[c];return d&&d[1]},b.prototype.set=function(b,c){var d=a(this.__entries__,b);~d?this.__entries__[d][1]=c:this.__entries__.push([b,c])},b.prototype.delete=function(b){var c=this.__entries__,d=a(c,b);~d&&c.splice(d,1)},b.prototype.has=function(b){return!!~a(this.__entries__,b)},b.prototype.clear=function(){this.__entries__.splice(0)},b.prototype.forEach=function(a,b){void 0===b&&(b=null);for(var c,d=0,f=this.__entries__;d<f.length;d++)c=f[d],a.call(b,c[1],c[0])},b}():Map}(),_="undefined"!=typeof window&&"undefined"!=typeof document&&window.document===document,ha="undefined"!=typeof global&&global.Math===Math?global:"undefined"!=typeof self&&self.Math===Math?self:"undefined"!=typeof window&&window.Math===Math?window:Function("return this")(),ia="function"==typeof requestAnimationFrame?requestAnimationFrame.bind(ha):function(a){return setTimeout(function(){return a(Date.now())},1e3/60)},ja=["top","right","bottom","left","width","height","size","weight"],ka="undefined"!=typeof MutationObserver,la=function(){function a(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=function(b,c){function d(){a&&(a=!1,b()),g&&f()}function e(){ia(d)}function f(){var b=Date.now();if(a){if(b-h<2)return;g=!0}else a=!0,g=!1,setTimeout(e,c);h=b}var a=!1,g=!1,h=0;return f}(this.refresh.bind(this),20)}return a.prototype.addObserver=function(a){~this.observers_.indexOf(a)||this.observers_.push(a),this.connected_||this.connect_()},a.prototype.removeObserver=function(a){var b=this.observers_,c=b.indexOf(a);~c&&b.splice(c,1),!b.length&&this.connected_&&this.disconnect_()},a.prototype.refresh=function(){this.updateObservers_()&&this.refresh()},a.prototype.updateObservers_=function(){var a=this.observers_.filter(function(a){return a.gatherActive(),a.hasActive()});return a.forEach(function(a){return a.broadcastActive()}),0<a.length},a.prototype.connect_=function(){_&&!this.connected_&&(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),ka?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},a.prototype.disconnect_=function(){_&&this.connected_&&(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},a.prototype.onTransitionEnd_=function(a){var b=a.propertyName,c=void 0===b?"":b;ja.some(function(a){return!!~c.indexOf(a)})&&this.refresh()},a.getInstance=function(){return this.instance_||(this.instance_=new a),this.instance_},a.instance_=null,a}(),ma=function(a,b){for(var c,d=0,e=Object.keys(b);d<e.length;d++)c=e[d],Object.defineProperty(a,c,{value:b[c],enumerable:!1,writable:!1,configurable:!0});return a},na=function(a){return a&&a.ownerDocument&&a.ownerDocument.defaultView||ha},oa=aa(0,0,0,0),pa="undefined"==typeof SVGGraphicsElement?function(a){return a instanceof na(a).SVGElement&&"function"==typeof a.getBBox}:function(a){return a instanceof na(a).SVGGraphicsElement},qa=function(){function a(a){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=aa(0,0,0,0),this.target=a}return a.prototype.isActive=function(){var a=Y(this.target);return this.contentRect_=a,a.width!==this.broadcastWidth||a.height!==this.broadcastHeight},a.prototype.broadcastRect=function(){var a=this.contentRect_;return this.broadcastWidth=a.width,this.broadcastHeight=a.height,a},a}(),ra=function(){return function(b,d){var e,f,g,j,k,l,m,p=(f=(e=d).x,g=e.y,j=e.width,k=e.height,l="undefined"==typeof DOMRectReadOnly?Object:DOMRectReadOnly,m=Object.create(l.prototype),ma(m,{x:f,y:g,width:j,height:k,top:g,right:f+j,bottom:k+g,left:f}),m);ma(this,{target:b,contentRect:p})}}(),sa=function(){function a(a,b,c){if(this.activeObservations_=[],this.observations_=new $,"function"!=typeof a)throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=a,this.controller_=b,this.callbackCtx_=c}return a.prototype.observe=function(a){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!=typeof Element&&Element instanceof Object){if(!(a instanceof na(a).Element))throw new TypeError("parameter 1 is not of type \"Element\".");var b=this.observations_;b.has(a)||(b.set(a,new qa(a)),this.controller_.addObserver(this),this.controller_.refresh())}},a.prototype.unobserve=function(a){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!=typeof Element&&Element instanceof Object){if(!(a instanceof na(a).Element))throw new TypeError("parameter 1 is not of type \"Element\".");var b=this.observations_;b.has(a)&&(b.delete(a),b.size||this.controller_.removeObserver(this))}},a.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},a.prototype.gatherActive=function(){var a=this;this.clearActive(),this.observations_.forEach(function(b){b.isActive()&&a.activeObservations_.push(b)})},a.prototype.broadcastActive=function(){if(this.hasActive()){var a=this.callbackCtx_,b=this.activeObservations_.map(function(a){return new ra(a.target,a.broadcastRect())});this.callback_.call(a,b,a),this.clearActive()}},a.prototype.clearActive=function(){this.activeObservations_.splice(0)},a.prototype.hasActive=function(){return 0<this.activeObservations_.length},a}(),ta="undefined"==typeof WeakMap?new $:new WeakMap,ua=function(){return function a(b){if(!(this instanceof a))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var c=la.getInstance(),d=new sa(b,c,this);ta.set(this,d)}}();["observe","unobserve","disconnect"].forEach(function(a){ua.prototype[a]=function(){var b;return(b=ta.get(this))[a].apply(b,arguments)}});var va=void 0===ha.ResizeObserver?ua:ha.ResizeObserver;const wa=function(a){for(var b=arguments.length,c=Array(1<b?b-1:0),d=1;d<b;d++)c[d-1]=arguments[d];const e=c.reduce((b,c,d)=>b+(a=>{if(a instanceof K)return a.cssText;throw new Error("Value passed to 'css' function must be a 'css' function result: ".concat(a,". Use 'unsafeCSS' to pass non-literal values, but\n            take care to ensure page security."))})(c)+a[d+1],a[0]);return new K(e,I)}(_templateObject()),xa={shuffle:!0,power_state:!0,artwork_border:!0,icon_state:!0},ya=[{attr:"media_title"},{attr:"media_artist"},{attr:"media_series_title"},{attr:"media_season",prefix:"S"},{attr:"media_episode",prefix:"E"},{attr:"app_name"}],za={DEFAULT:"mdi:cast",DROPDOWN:"mdi:chevron-down",GROUP:"mdi:google-circles-communities",MENU:"mdi:menu-down",MUTE:{true:"mdi:volume-off",false:"mdi:volume-high"},NEXT:"mdi:skip-next",PLAY:{true:"mdi:pause",false:"mdi:play"},POWER:"mdi:power",PREV:"mdi:skip-previous",SEND:"mdi:send",SHUFFLE:"mdi:shuffle",STOP:"mdi:stop",VOL_DOWN:"mdi:volume-minus",VOL_UP:"mdi:volume-plus"},Aa=["entity","source","_progress","_pos","_overflow","break","thumbnail","edit"],Ba=["media_duration","media_position","media_position_updated_at"];customElements.define("mini-media-player",class extends Z{constructor(){super(),this._overflow=!1,this.idle=!1,this.break=!0,this.initial=!0,this.picture=!1,this.thumbnail=!1,this.edit=!1}static get properties(){return{_hass:{},config:{},entity:{},source:String,active:Boolean,idle:Boolean,_overflow:Boolean,break:Boolean,initial:Boolean,picture:String,thumbnail:String,edit:Boolean,_progress:Boolean,_pos:Number}}static get styles(){return wa}set hass(a){const b=a.states[this.config.entity];this._hass=a,b&&this.entity!==b&&(this.entity=b,this.active=this._isActive(),this.progress=this._hasProgress())}get hass(){return this._hass}set overflow(a){this._overflow!==a&&(this._overflow=a)}get overflow(){return this._overflow}set progress(a){this._progress!==a&&(this._progress=a,!0===this.progress&&this._updateProgress())}get progress(){return this._progress}set pos(a){this._pos!==a&&(this._pos=a)}get pos(){return this._pos}setConfig(a){if(!a.entity||"media_player"!==a.entity.split(".")[0])throw new Error("Specify an entity from within the media_player domain.");const b=_objectSpread({artwork:"default",info:"default",max_volume:100,more_info:!0,shortcuts:{},source:"default",title:"",toggle_power:!0},a,{hide:_objectSpread({},xa,a.hide),sonos:_objectSpread({show_group_count:!0},a.sonos)});b.max_volume=+b.max_volume||100,b.collapse=b.hide.controls||b.hide.volume,b.info=b.collapse&&"scroll"!==b.info?"short":b.info,b.flow=b.hide.icon&&b.hide.name&&b.hide.info,this.config=b}shouldUpdate(a){return Aa.some(b=>a.has(b))&&this.entity}firstUpdated(){new va(a=>{a.forEach(a=>{window.requestAnimationFrame(()=>{"scroll"===this.config.info&&this._computeOverflow(),this._resizeTimer||(this._computeRect(a),this._resizeTimer=setTimeout(()=>{this._resizeTimer=null,this._computeRect(this._resizeEntry)},250)),this._resizeEntry=a})})}).observe(this.shadowRoot.querySelector(".player")),setTimeout(()=>this.initial=!1,250),this.edit=this.config.sonos.expanded||!1}updated(){"scroll"===this.config.info&&this._computeOverflow()}disconnectedCallback(){clearInterval(this._progressTracker)}render(){let a=0<arguments.length&&arguments[0]!==void 0?arguments[0]:this,b=a.config,c=a.entity;const d=this._computeArtwork(),e=this.break?"break-width":b.hide.icon?"break-icon":"none";return O(_templateObject2(),e,this.initial,b.background,b.group,b.more_info,""!==b.title,b.artwork,d,c.state,b.flow,b.collapse,this._computeContent(),a=>this._handleMore(a),this._renderArtwork(d),b.title,!this.active,this._renderIcon(d),this._renderEntityName(),this._renderMediaInfo(),this._renderPowerStrip(),!b.collapse&&this.active?this._renderControlRow():"",b.shortcuts.buttons?this._renderButtons():"",b.shortcuts.list?this._renderList():"",b.tts?this._renderTts():"",this.edit?this._renderGroupList():"",this.progress?this._renderProgress():"")}_computeContent(){return this.entity.attributes.media_content_type||"none"}_computeName(){return this.config.name||this.entity.attributes.friendly_name}_computeNameExtra(){const a=this.entity.attributes.sonos_group;if(this.config.sonos.show_group_count&&a){const b=a.length-1||0;return b?" +".concat(b):""}}_computeArtwork(){const a=this.entity.attributes.entity_picture,b=a&&""!==a&&"none"!==this.config.artwork&&this.active&&!this.idle;return b&&a!==this.picture&&(this._fetchThumbnail(),this.picture=a),b&&this.thumbnail}_computeIcon(){return this.config.icon?this.config.icon:this.entity.attributes.icon||za.DEFAULT}_computeOverflow(){const a=this.shadowRoot.querySelector(".marquee");if(a){const b=a.clientWidth>a.parentNode.clientWidth;this.overflow=b&&this.active&&7.5+a.clientWidth/50}}_computeRect(a){const b=a.contentRect,c=b.left,d=b.width;this.break=d+2*c<390}_renderArtwork(a){if(this.thumbnail||this.config.background){const b=!this.config.background||a&&"default"!==this.config.artwork?this.thumbnail:"url(".concat(this.config.background,")");return O(_templateObject3(),b)}}_renderIcon(a){if(!this.config.hide.icon)return this.active&&a&&"default"===this.config.artwork?O(_templateObject4(),!this.config.hide.artwork_border,this.thumbnail,this.entity.state):O(_templateObject5(),this._computeIcon(),!this.config.hide.icon_state&&(this.active||this.idle))}_renderPowerButton(){return O(_templateObject6(),za.POWER,a=>this._handlePower(a),!this.config.hide.power_state&&(this.active||this.idle))}_renderButton(a,b){let c=2<arguments.length&&arguments[2]!==void 0?arguments[2]:{},d=!!(3<arguments.length&&arguments[3]!==void 0)&&arguments[3];return O(_templateObject7(),a,d,a=>this._callService(a,b,c))}_renderEntityName(){if(!this.config.hide.name)return O(_templateObject8(),this._computeName(),this._computeNameExtra())}_renderMediaInfo(){if(!this.config.hide.info){const a=ya.map(a=>_objectSpread({text:this._getAttribute(a.attr),prefix:""},a)).filter(a=>a.text);return O(_templateObject9(),"short"===this.config.info||!this.active,this.overflow,this.overflow,"scroll"===this.config.info?O(_templateObject10(),a.map(a=>O(_templateObject11(),"attr__".concat(a.attr),a.prefix+a.text))):"",a.map(a=>O(_templateObject12(),"attr__".concat(a.attr),a.prefix+a.text)))}}_renderProgress(){if(!this.idle)return O(_templateObject13(),a=>this._handleSeek(a),this.pos,this.entity.attributes.media_duration)}_renderLabel(a){let b=1<arguments.length&&arguments[1]!==void 0?arguments[1]:"Unknown";return O(_templateObject14(),this._getLabel(a,b))}_renderIdleStatus(){return this._isPaused()?this._renderButton(za.PLAY[this._isPlaying()],"media_play_pause"):this._renderLabel("state.media_player.idle","Idle")}_renderShuffleButton(){if(void 0!==this.entity.attributes.shuffle){const a=!this.entity.attributes.shuffle||!1;return this._renderButton(za.SHUFFLE,"shuffle_set",{shuffle:a},!a)}}_renderPowerStrip(){let a=0<arguments.length&&arguments[0]!==void 0?arguments[0]:this,b=a.config;return"unavailable"===this.entity.state?this._renderLabel("state.default.unavailable","Unavailable"):O(_templateObject15(),this.active&&b.collapse?this._renderControlRow():"",this.idle?this._renderIdleStatus():"",this._renderSource(),b.sonos.entities?this._renderGroupButton():"",b.hide.power?"":this._renderPowerButton())}_renderGroupButton(){const a=!this.entity.attributes.sonos_group||1>=this.entity.attributes.sonos_group.length;return O(_templateObject16(),za.GROUP,a,this.edit,a=>this._handleGroupButton(a))}_renderGroupList(){const a=this.config.sonos.entities,b=this.entity.attributes.sonos_group||[],c=b[0]||this.config.entity,d=c===this.config.entity;return O(_templateObject17(),a.map(a=>this._renderGroupListItem(a,b,c)),2>b.length,a=>this._handleGroupItemChange(a,d?b:this.config.entity,!1),d?O(_templateObject18()):O(_templateObject19()),!d,b=>this._handleGroupItemChange(b,a.map(a=>a.entity_id),!0))}_renderGroupListItem(a,b,c){const d=a.entity_id===this.config.entity||b.includes(a.entity_id),e=a.entity_id===this.config.entity||c!==this.config.entity;return O(_templateObject20(),d,e,b=>this._handleGroupItemChange(b,a.entity_id,!d),a.name,a.entity_id===c?O(_templateObject21()):"")}_renderSource(){let a=0<arguments.length&&arguments[0]!==void 0?arguments[0]:this,b=a.entity;const c=b.attributes.source_list||!1;if(c&&!this.config.hide.source){const a=b.attributes.source||"",d=c.indexOf(a);return O(_templateObject22(),"right","top",40,!0,a=>a.stopPropagation(),this.config.source,this.source||a,za.DROPDOWN,d,a=>this._handleSource(a,a.target.getAttribute("value")),c.map(a=>O(_templateObject23(),a,a)))}}_renderControlRow(){return O(_templateObject24(),this.config.hide.volume?"":this._renderVolControls(),this.config.hide.shuffle?"":this._renderShuffleButton(),this.config.hide.controls?"":this._renderMediaControls())}_renderMediaControls(){return O(_templateObject25(),this._renderButton(za.PREV,"media_previous_track"),this._renderButton(za.PLAY[this._isPlaying()],"media_play_pause"),this._renderButton(za.NEXT,"media_next_track"))}_renderVolControls(){const a=this.entity.attributes.is_volume_muted||!1;return this.config.volume_stateless?this._renderVolButtons(a):this._renderVolSlider(a)}_renderMuteButton(a){if(!this.config.hide.mute){switch(this.config.replace_mute){case"play":return this._renderButton(za.PLAY[this._isPlaying()],"media_play_pause");case"stop":return this._renderButton(za.STOP,"media_stop");case"next":return this._renderButton(za.NEXT,"media_next_track");default:return this._renderButton(za.MUTE[a],"volume_mute",{is_volume_muted:!a});}}}_renderVolSlider(){let a=!!(0<arguments.length&&arguments[0]!==void 0)&&arguments[0];const b=100*this.entity.attributes.volume_level;return O(_templateObject26(),this._renderMuteButton(a),a,a=>this._handleVolumeChange(a),a=>a.stopPropagation(),this.config.max_volume,b)}_renderVolButtons(){let a=!!(0<arguments.length&&arguments[0]!==void 0)&&arguments[0];return O(_templateObject27(),this._renderMuteButton(a),this._renderButton(za.VOL_DOWN,"volume_down"),this._renderButton(za.VOL_UP,"volume_up"))}_renderTts(){return O(_templateObject28(),this._getLabel("ui.card.media_player.text_to_speak","Say"),a=>a.stopPropagation(),a=>this._handleTts(a))}_renderList(){if(!this.config.shortcuts.hide_when_off||this.active){const a=this.config.shortcuts.list;return O(_templateObject29(),!0,a=>a.stopPropagation(),"Select media...",za.MENU,a=>this._handleQuickSelect(a,"list",a.target.getAttribute("value")),a.map((a,b)=>O(_templateObject30(),b,a.icon?O(_templateObject31(),a.icon):"",a.name?O(_templateObject32(),a.name):"")))}}_renderButtons(){if(!this.config.shortcuts.hide_when_off||this.active){const a=this.config.shortcuts.buttons;return O(_templateObject33(),a.map((a,b)=>O(_templateObject34(),a=>this._handleQuickSelect(a,"buttons",b),a.icon?O(_templateObject35(),a.icon):"",a.name?O(_templateObject36(),a.name):"")))}}_callService(a,b,c){let d=3<arguments.length&&arguments[3]!==void 0?arguments[3]:"media_player";a.stopPropagation();const e=_objectSpread({entity_id:this.config.entity},c);this.hass.callService(d,b,e)}_handleVolumeChange(a){const b=parseFloat(a.target.value),c=0<b?b/100:0,d=this.config.sonos.sync_volume?this.entity.attributes.sonos_group:this.config.entity;this._callService(a,"volume_set",{entity_id:d||this.config.entity,volume_level:c})}_handleSeek(a){const b=this.entity.attributes.media_duration||0,c=a.offsetX/a.target.offsetWidth*b;this._callService(a,"media_seek",{seek_position:c})}_handlePower(a){return this.config.toggle_power?this._callService(a,"toggle"):"off"===this.entity.state?this._callService(a,"turn_on"):void this._callService(a,"turn_off")}_handleTts(a){a.stopPropagation();const b=this.shadowRoot.querySelector(".tts paper-input"),c={message:b.value};this.config.tts.entity_id&&(c.entity_id=this.config.tts.entity_id),this.config.tts.language&&(c.language=this.config.tts.language),"alexa"===this.config.tts.platform?this._callService(a,"alexa_tts",c):"ga"===this.config.tts.platform?this.hass.callService("notify","ga_broadcast",{message:b.value}):this._callService(a,"".concat(this.config.tts.platform,"_say"),c,"tts"),b.value=""}_handleQuickSelect(a,b,c){const d=this.config.shortcuts[b][c],e=d.type,f=d.id;if("source"===e)return this._handleSource(a,f);if("script"===e)return this._callService(a,"turn_on",{entity_id:f},"script");this._callService(a,"play_media",{media_content_type:e,media_content_id:f})}_handleMore(a){let b=1<arguments.length&&arguments[1]!==void 0?arguments[1]:this,c=b.config;return c.more_info?this._fire("hass-more-info",{entityId:c.entity}):void a.stopPropagation()}_handleSource(a,b){this._callService(a,"select_source",{source:b}),this.source=b}_handleGroupButton(a){a.stopPropagation(),this.edit=!this.edit}_handleGroupItemChange(a,b,c){const d={entity_id:b};c?(d.master=this.config.entity,this._callService(a,"SONOS_JOIN",d)):this._callService(a,"SONOS_UNJOIN",d)}_fire(a){let b=1<arguments.length&&arguments[1]!==void 0?arguments[1]:{},c=2<arguments.length&&arguments[2]!==void 0?arguments[2]:{};const d=new Event(a,{bubbles:void 0===c.bubbles||c.bubbles,cancelable:!!c.cancelable,composed:void 0===c.composed||c.composed});return d.detail=b,this.dispatchEvent(d),d}_updateProgress(){this.pos=this._computeProgress,this._progressTracker||(this._progressTracker=setInterval(()=>this._updateProgress(),1e3)),this._isPlaying()||(this.progress="paused",clearInterval(this._progressTracker),this._progressTracker=null)}_hasProgress(){return!this.config.hide.progress&&!this.idle&&Ba.every(a=>a in this.entity.attributes)}get _computeProgress(){const a=this.entity.attributes.media_position_updated_at;return this.entity.attributes.media_position+(Date.now()-new Date(a).getTime())/1e3}_isPaused(){return"paused"===this.entity.state}_isPlaying(){return"playing"===this.entity.state}_isIdle(){return"idle"===this.entity.state}_isStandby(){return"standby"===this.entity.state}_isActive(){return this.config.idle_view&&(this.idle=this._computeIdle()),"off"!==this.entity.state&&"unavailable"!==this.entity.state&&!this.idle||!1}_computeIdle(){const a=this.config.idle_view;if(a.when_idle&&this._isIdle()||a.when_standby&&this._isStandby()||a.when_paused&&this._isPaused())return!0;const b=this.entity.attributes.media_position_updated_at;if(!b||!a.after||this._isPlaying())return!1;const c=(Date.now()-new Date(b).getTime())/1e3;return c>60*a.after||(this._inactiveTracker&&clearTimeout(this._inactiveTracker),this._inactiveTracker=setTimeout(()=>{this.active=this._isActive(),this._inactiveTracker=null},1e3*(60*a.after-c)),!1)}_getAttribute(a){return this.entity.attributes[a]||""}_getLabel(a){let b=1<arguments.length&&arguments[1]!==void 0?arguments[1]:"unknown";const c=this.hass.selectedLanguage||this.hass.language,d=this.hass.resources[c];return d&&d[a]?d[a]:b}async _fetchThumbnail(){try{const a=await this.hass.callWS({type:"media_player_thumbnail",entity_id:this.config.entity}),b=a.content_type,c=a.content;this.thumbnail="url(data:".concat(b,";base64,").concat(c,")")}catch(a){this.thumbnail=!1}}getCardSize(){return this.config.collapse?1:2}})});
